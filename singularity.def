BootStrap: shub
From: sinzlab/pytorch-singularity:v3.8-torch1.7.0-dj0.12.7

%labels
MAINTAINER Arne Nix <arnenix@gmail.com>
%post
    # install third-party libraries
    git clone https://github.com/sinzlab/nnfabrik.git
    git clone -b transformer_readout https://github.com/KonstantinWilleke/neuralpredictors
    git clone -b transparency_mei https://github.com/KonstantinWilleke/mei.git
    git clone -b eye_link https://github.com/KonstantinWilleke/data_port
    git clone -b slurm_dev https://github.com/KonstantinWilleke/nndichromacy
    python3.8 -m pip install --no-use-pep517 -e ./nnfabrik
    python3.8 -m pip install --no-use-pep517 -e ./neuralpredictors
    python3.8 -m pip install --no-use-pep517 -e ./mei
    python3.8 -m pip install --no-use-pep517 -e ./data_port
    python3.8 -m pip install git+https://github.com/sacadena/ptrnets
    python3.8 -m pip install git+https://github.com/dicarlolab/CORnet
    python3.8 -m pip install --no-use-pep517 -e ./nndichromacy
    python3.8 -m pip install einops
    python3.8 -m pip install scikit-image==0.19.1
    python3.8 -m pip install numpy==1.22.0


%environment
    
%startscript
    exec "$@"
%runscript
    exec "$@"